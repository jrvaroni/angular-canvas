<div class="context-menu" [style.left.px]="x" [style.top.px]="y">
  <div class="context-menu-section">
    <div class="context-menu-heading">Ordem</div>
    <div class="context-menu-item" (click)="execute(ContextMenuAction.BRING_TO_FRONT)">Trazer para frente</div>
    <div class="context-menu-item" (click)="execute(ContextMenuAction.SEND_TO_BACK)">Enviar para trás</div>
    <div class="context-menu-item" (click)="execute(ContextMenuAction.MOVE_FORWARD)">Mover para frente</div>
    <div class="context-menu-item" (click)="execute(ContextMenuAction.MOVE_BACKWARD)">Mover para trás</div>
  </div>

  <!-- Itens padrão -->
  <ng-container *ngIf="customItems.length === 0">
    <button class="context-menu-item" (click)="executeAction(ContextMenuAction.BRING_TO_FRONT)">
      <span class="item-icon"><i class="fas fa-arrow-up"></i></span>
      <span>Trazer para Frente</span>
    </button>
    <!-- Outros itens padrão... -->
  </ng-container>

  <!-- Itens personalizados -->
  <ng-container *ngIf="customItems.length > 0">
    <button *ngFor="let item of customItems" class="context-menu-item" (click)="executeCustomAction(item.id)">
      <span class="item-icon">
        <i class="fas fa-{{ item.icon }}"></i>
      </span>
      <span>{{ item.label }}</span>
    </button>
  </ng-container>

  <div class="context-menu-section">
    <div class="context-menu-heading">Agrupar</div>
    <div class="context-menu-item" [class.disabled]="!canGroup" (click)="canGroup && execute(ContextMenuAction.GROUP)">
      Agrupar seleção
    </div>
    <div
      class="context-menu-item"
      [class.disabled]="!hasGroups"
      (click)="hasGroups && execute(ContextMenuAction.UNGROUP)"
    >
      Desagrupar
    </div>
  </div>

  <div class="context-menu-section">
    <div class="context-menu-heading">Camada</div>
    <div
      class="context-menu-item"
      [class.disabled]="!hasUnlockedLayers"
      (click)="hasUnlockedLayers && execute(ContextMenuAction.LOCK)"
    >
      Bloquear
    </div>
    <div
      class="context-menu-item"
      [class.disabled]="!hasLockedLayers"
      (click)="hasLockedLayers && execute(ContextMenuAction.UNLOCK)"
    >
      Desbloquear
    </div>
    <div class="context-menu-item" *ngIf="hasTextLayer" (click)="execute(ContextMenuAction.EDIT_TEXT)">
      Editar texto
    </div>
    <div class="context-menu-item" (click)="execute(ContextMenuAction.DELETE)">Excluir</div>
  </div>
</div>
